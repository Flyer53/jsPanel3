'use strict';Object.assign||Object.defineProperty(Object,'assign',{enumerable:!1,configurable:!0,writable:!0,value:function(a){if(a===undefined||a===null){throw new TypeError('Cannot convert first argument to object')}var b=Object(a);for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d===undefined||d===null){continue}d=Object(d);var e=Object.keys(Object(d));for(var f=0,g=e.length;f<g;f++){var h=e[f],i=Object.getOwnPropertyDescriptor(d,h);i!==undefined&&i.enumerable&&(b[h]=d[h])}}return b}});var jsPanel={version:'3.9.1',date:'2017-06-14 12:49',id:0,ziBase:100,zi:100,modalcount:0,autopositionSpacing:5,pbTreshold:0.556,lastbeforeclose:!1,template:"<div class=\"jsPanel\">\n                <div class=\"jsPanel-hdr\">\n                    <div class=\"jsPanel-headerbar\">\n                        <div class=\"jsPanel-headerlogo\"></div>\n                        <div class=\"jsPanel-titlebar\">\n                            <h3 class=\"jsPanel-title\"></h3>\n                        </div>\n                        <div class=\"jsPanel-controlbar\">\n                            <div class=\"jsPanel-btn jsPanel-btn-smallify\"><span class=\"jsglyph jsglyph-chevron-up\"></span></div>\n                            <div class=\"jsPanel-btn jsPanel-btn-smallifyrev\"><span class=\"jsglyph jsglyph-chevron-down\"></span></div>\n                            <div class=\"jsPanel-btn jsPanel-btn-minimize\"><span class=\"jsglyph jsglyph-minimize\"></span></div>\n                            <div class=\"jsPanel-btn jsPanel-btn-normalize\"><span class=\"jsglyph jsglyph-normalize\"></span></div>\n                            <div class=\"jsPanel-btn jsPanel-btn-maximize\"><span class=\"jsglyph jsglyph-maximize\"></span></div>\n                            <div class=\"jsPanel-btn jsPanel-btn-close\"><span class=\"jsglyph jsglyph-close\"></span></div>\n                        </div>\n                    </div>\n                    <div class=\"jsPanel-hdr-toolbar\"></div>\n                </div>\n                <div class=\"jsPanel-content jsPanel-content-nofooter\"></div>\n                <div class=\"jsPanel-minimized-box\"></div>\n                <div class=\"jsPanel-ftr\"></div>\n               </div>",replacementTemplate:"<div class=\"jsPanel-replacement\">\n                            <div class=\"jsPanel-hdr\">\n                                <div class=\"jsPanel-headerbar\">\n                                    <div class=\"jsPanel-titlebar\">\n                                        <h3 class=\"jsPanel-title\"></h3>\n                                    </div>\n                                    <div class=\"jsPanel-controlbar\">\n                                        <div class=\"jsPanel-btn jsPanel-btn-normalize\"><span class=\"jsglyph jsglyph-normalize\"></span></div>\n                                        <div class=\"jsPanel-btn jsPanel-btn-maximize\"><span class=\"jsglyph jsglyph-maximize\"></span></div>\n                                        <div class=\"jsPanel-btn jsPanel-btn-close\"><span class=\"jsglyph jsglyph-close\"></span></div>\n                                    </div>\n                                </div>\n                            </div>\n                          </div>",themes:['default','primary','info','success','warning','danger'],mdbthemes:['secondary','elegant','stylish','unique','special'],controls:['close','maximize','normalize','minimize','smallify','smallifyrev'],tplHeaderOnly:"<div class=\"jsPanel\">\n                        <div class=\"jsPanel-hdr\">\n                            <div class=\"jsPanel-headerbar\">\n                                <div class=\"jsPanel-headerlogo\"></div>\n                                <div class=\"jsPanel-titlebar\">\n                                    <h3 class=\"jsPanel-title\"></h3>\n                                </div>\n                                <div class=\"jsPanel-controlbar\">\n                                    <div class=\"jsPanel-btn jsPanel-btn-close\"><span class=\"jsglyph jsglyph-close\"></span></div>\n                                </div>\n                            </div>\n                            <div class=\"jsPanel-hdr-toolbar\"></div>\n                        </div>\n                    </div>",tplContentOnly:"<div class=\"jsPanel\">\n                        <div class=\"jsPanel-content jsPanel-content-noheader jsPanel-content-nofooter\"></div>\n                        <div class=\"jsPanel-minimized-box\"></div>\n                     </div>",activePanels:{list:[],getPanel(a){return typeof a==='string'?document.getElementById(a).jspanel.noop():document.getElementById(this.list[a]).jspanel.noop()}},closeOnEscape:!1,isIE:function(){return navigator.appVersion.indexOf('Trident')!==-1}(),isEdge:function(){return navigator.appVersion.indexOf('Edge')!==-1}(),addConnector(a){let b=a.option.paneltype.connectorBG||null;a[0].classList.contains('jsPanel-tooltip-top')?(a.append('<div class="jsPanel-connector jsPanel-connector-top">'),jQuery('.jsPanel-connector-top',a).css('border-top-color',b||this.calcConnectorBg(a,'top')),a.option.position.offsetY=a.option.position.offsetY-10||-10):a[0].classList.contains('jsPanel-tooltip-bottom')?(a.append('<div class="jsPanel-connector jsPanel-connector-bottom">'),jQuery('.jsPanel-connector-bottom',a).css('border-bottom-color',b||this.calcConnectorBg(a,'bottom')),a.option.position.offsetY=a.option.position.offsetY+10||10):a[0].classList.contains('jsPanel-tooltip-left')?(a.append('<div class="jsPanel-connector jsPanel-connector-left">'),jQuery('.jsPanel-connector-left',a).css('border-left-color',b||this.calcConnectorBg(a,'left')),a.option.position.offsetX=a.option.position.offsetX-12||-12):a[0].classList.contains('jsPanel-tooltip-right')?(a.append('<div class="jsPanel-connector jsPanel-connector-right">'),jQuery('.jsPanel-connector-right',a).css('border-right-color',b||this.calcConnectorBg(a,'right')),a.option.position.offsetX=a.option.position.offsetX+12||12):a[0].classList.contains('jsPanel-tooltip-lefttopcorner')?(a.append('<div class="jsPanel-connector jsPanel-connector-lefttopcorner">'),jQuery('.jsPanel-connector-lefttopcorner',a).css('background-color',b||this.calcConnectorBg(a,'lefttopcorner'))):a[0].classList.contains('jsPanel-tooltip-righttopcorner')?(a.append('<div class="jsPanel-connector jsPanel-connector-righttopcorner">'),jQuery('.jsPanel-connector-righttopcorner',a).css('background-color',b||this.calcConnectorBg(a,'righttopcorner'))):a[0].classList.contains('jsPanel-tooltip-rightbottomcorner')?(a.append('<div class="jsPanel-connector jsPanel-connector-rightbottomcorner">'),jQuery('.jsPanel-connector-rightbottomcorner',a).css('background-color',b||this.calcConnectorBg(a,'rightbottomcorner'))):a[0].classList.contains('jsPanel-tooltip-leftbottomcorner')?(a.append('<div class="jsPanel-connector jsPanel-connector-leftbottomcorner">'),jQuery('.jsPanel-connector-leftbottomcorner',a).css('background-color',b||this.calcConnectorBg(a,'leftbottomcorner'))):a[0].classList.contains('jsPanel-tooltip-lefttop')?(a.append('<div class="jsPanel-connector jsPanel-connector-lefttop">'),jQuery('.jsPanel-connector-lefttop',a).css('border-left-color',b||this.calcConnectorBg(a,'lefttop')),a.option.position.offsetX=a.option.position.offsetX-12||-12):a[0].classList.contains('jsPanel-tooltip-leftbottom')?(a.append('<div class="jsPanel-connector jsPanel-connector-leftbottom">'),jQuery('.jsPanel-connector-leftbottom',a).css('border-left-color',b||this.calcConnectorBg(a,'leftbottom')),a.option.position.offsetX=a.option.position.offsetX-12||-12):a[0].classList.contains('jsPanel-tooltip-topleft')?(a.append('<div class="jsPanel-connector jsPanel-connector-topleft">'),jQuery('.jsPanel-connector-topleft',a).css('border-top-color',b||this.calcConnectorBg(a,'topleft')),a.option.position.offsetY=a.option.position.offsetY-10||-10):a[0].classList.contains('jsPanel-tooltip-topright')?(a.append('<div class="jsPanel-connector jsPanel-connector-topright">'),jQuery('.jsPanel-connector-topright',a).css('border-top-color',b||this.calcConnectorBg(a,'topright')),a.option.position.offsetY=a.option.position.offsetY-10||-10):a[0].classList.contains('jsPanel-tooltip-righttop')?(a.append('<div class="jsPanel-connector jsPanel-connector-righttop">'),jQuery('.jsPanel-connector-righttop',a).css('border-right-color',b||this.calcConnectorBg(a,'righttop')),a.option.position.offsetX=a.option.position.offsetX+12||12):a[0].classList.contains('jsPanel-tooltip-rightbottom')?(a.append('<div class="jsPanel-connector jsPanel-connector-rightbottom">'),jQuery('.jsPanel-connector-rightbottom',a).css('border-right-color',b||this.calcConnectorBg(a,'rightbottom')),a.option.position.offsetX=a.option.position.offsetX+12||12):a[0].classList.contains('jsPanel-tooltip-bottomleft')?(a.append('<div class="jsPanel-connector jsPanel-connector-bottomleft">'),jQuery('.jsPanel-connector-bottomleft',a).css('border-bottom-color',b||this.calcConnectorBg(a,'bottomleft')),a.option.position.offsetY=a.option.position.offsetY+10||10):a[0].classList.contains('jsPanel-tooltip-bottomright')&&(a.append('<div class="jsPanel-connector jsPanel-connector-bottomright">'),jQuery('.jsPanel-connector-bottomright',a).css('border-bottom-color',b||this.calcConnectorBg(a,'bottomright')),a.option.position.offsetY=a.option.position.offsetY+10||10)},addCustomTheme(a){this.themes.indexOf(a)===-1&&this.themes.push(a)},ajax(a){let b=a.option.contentAjax,c=a.option.contentSize;b.then&&(b.then[0]&&(b.done=b.then[0]),b.then[1]&&(b.fail=b.then[1]));jQuery.ajax(b).done((c,d,e)=>{b.autoload&&a.content.append(c);jQuery.isFunction(b.done)&&b.done.call(a,c,d,e,a)}).fail((c,d,e)=>{jQuery.isFunction(b.fail)&&b.fail.call(a,c,d,e,a)}).always((d,e,f)=>{jQuery.isFunction(b.always)&&b.always.call(a,d,e,f,a);a.hasClass('jsPanel-contextmenu')&&jsPanel.checkContextmenuOverflow(a);if(typeof c==='string'&&c.match(/auto/i)){var g=c.split(' '),h=Object.assign({},jQuery.jsPanel.resizedefaults,{width:g[0],height:g[1]});b.autoresize&&a.resize(h);a.hasClass('jsPanel-contextmenu')||(b.autoreposition&&a.reposition())}else if(jQuery.isPlainObject(c)&&(c.width==='auto'||c.height==='auto')){h=Object.assign({},jQuery.jsPanel.resizedefaults,c);b.autoresize&&a.resize(h);a.hasClass('jsPanel-contextmenu')||(b.autoreposition&&a.reposition())}});a.data('ajaxURL',b.url)},applyBuiltInTheme(a,b){a[0].classList.add(`jsPanel-theme-${b.color}`);a.header[0]&&a.header[0].classList.add(`jsPanel-theme-${b.color}`);b.filling==='filled'?a.content.css('background','')[0].classList.add('jsPanel-content-filled'):b.filling==='filledlight'&&a.content.css('background','')[0].classList.add('jsPanel-content-filledlight');a.option.headerToolbar||a.content.css({borderTop:`1px solid ${a.header.title.css('color')}`})},applyArbitraryTheme(a,b){a.header.css('background-color',b.colors[0]);jQuery('.jsPanel-headerlogo, .jsPanel-title, .jsPanel-controlbar .jsPanel-btn .jsglyph, .jsPanel-hdr-toolbar',a).css({color:b.colors[3]});a.option.headerToolbar?a.header.toolbar.css({boxShadow:`0 0 1px ${b.colors[3]} inset`,width:'calc(100% + 4px)',marginLeft:'-1px'}):a.content.css({borderTop:`1px solid ${b.colors[3]}`});b.filling==='filled'?a.content.css({backgroundColor:b.colors[0],color:b.colors[3]}):b.filling==='filledlight'&&a.content.css({backgroundColor:b.colors[1]})},applyBootstrapTheme(a,b){let c;a.addClass(`panel panel-${b.bstheme} card card-inverse card-${b.bstheme}`);a.header[0]&&(a.header[0].classList.add('panel-heading'),a.header.title[0].classList.add('panel-title'));if(b.bs==='mdb'){let c=`${b.bstheme}-color`;b.mdbStyle&&(c=`${c}-dark`);a.removeClass(`panel panel-${b.bstheme}`);a[0].classList.add(c)}a.content[0].classList.add('panel-body');a.content.css('border-top-color',()=>{return a.header.css('border-top-color')});a.footer.addClass('panel-footer card-footer');jQuery('.panel-heading',a).css('background-color')==='transparent'?(c=a.css('background-color').replace(/\s+/g,'')):(c=jQuery('.panel-heading',a).css('background-color').replace(/\s+/g,''));let d=this.calcColors(c);jQuery('.jsPanel-headerlogo, .jsPanel-title, .jsPanel-controlbar .jsPanel-btn, .jsPanel-hdr-toolbar',a.header).css('color',d[3]);a.option.headerToolbar?a.header.toolbar.css({boxShadow:`0 0 1px ${d[3]} inset`,width:'calc(100% + 4px)',marginLeft:'-1px'}):a.content.css({borderTop:`1px solid ${d[3]}`});b.filling==='filled'?a.content.css({backgroundColor:c,color:d[3]}):b.filling==='filledlight'&&a.content.css({backgroundColor:d[1],color:'#000000'})},applyThemeBorder(a,b){let c=a.option.border.split(' ');a.css({borderWidth:c[0],borderStyle:c[1],borderColor:c[2]});if(!b.bs)this.themes.indexOf(b.color)===-1&&(c[2]?a.css('border-color',c[2]):a.css('border-color',b.colors[0]));else{let b;jQuery('.panel-heading',a).css('background-color')==='transparent'?(b=a.css('background-color').replace(/\s+/g,'')):(b=jQuery('.panel-heading',a).css('background-color').replace(/\s+/g,''));c[2]?a.css('border-color',c[2]):a.css('border-color',b)}},calcColors(a){let b=this.color(a),c=this.lighten(a,0.81),d=this.darken(a,0.5),e=this.perceivedBrightness(a)<=this.pbTreshold?'#ffffff':'#000000',f=this.perceivedBrightness(c)<=this.pbTreshold?'#ffffff':'#000000',g=this.perceivedBrightness(d)<=this.pbTreshold?'#000000':'#ffffff';return[b.hsl.css,c,d,e,f,g]},calcConnectorBg(a,b){let c=a.content.css('background-color'),d=a.footer.css('background-color'),e=a.header.css('background-color');if(b.match(/^(top|topleft|topright|lefttopcorner|righttopcorner|leftbottom|rightbottom)$/)){if(a.footer.css('display')!=='none'){return d}else if(parseFloat(a.option.contentSize.height)>0){return c};return e}else if(b.match(/^(bottom|bottomleft|bottomright|leftbottomcorner|rightbottomcorner)$/)){if(!a.option.headerRemove){return e}else if(parseFloat(a.option.contentSize.height)>0){return c}else if(a.footer.css('display')!=='none'){return d}}else if(b.match(/^(lefttop|righttop)$/)){if(!a.option.headerRemove){return e}else{return c}}else if(b.match(/^(left|right)$/)){if(parseFloat(a.option.contentSize.height)>0){return c}else if(!a.option.headerRemove){return e}else if(a.footer.css('display')!=='none'){return d}}},clearTheme(a){this.themes.concat(this.mdbthemes).forEach(function(b){a.removeClass(`panel card card-inverse jsPanel-theme-${b} panel-${b} card-${b} ${b}-color`);a.header.removeClass(`panel-heading jsPanel-theme-${b}`)});a.content.removeClass('panel-body jsPanel-content-filled jsPanel-content-filledlight');a.css({borderWidth:'',borderStyle:'',borderColor:''});jQuery('.jsPanel-hdr, .jsPanel-content',a).css({background:''});jQuery('.jsPanel-headerlogo, .jsPanel-title, .jsPanel-controlbar .jsPanel-btn .jsglyph, .jsPanel-hdr-toolbar, .jsPanel-content',a).css({color:''});a.header.title.removeClass('panel-title');a.header.toolbar.css({boxShadow:'',width:'',marginLeft:''});a.css({borderTop:'',borderTopColor:''});a.footer.removeClass('panel-footer card-footer')},close(a,...b){let c=a.attr('id'),d=this.setTrigger(a.option.position),e=a.option.delayClose,f=b;function g(a,...b){b=f;let e=a.option.position;if(e.autoposition||typeof e==='string'&&e.match(/DOWN|RIGHT|UP|LEFT/i)){let b=/left-top|center-top|right-top|left-center|center|right-center|left-bottom|center-bottom|right-bottom/,d=jQuery(a).parent(),e=document.getElementById(c).className.match(b);e&&(jsPanel.lastbeforeclose={parent:d,class:e[0]})}a.closeChildpanels().remove();if(!jQuery(`#${c}`).length){let e=jsPanel.activePanels.list.indexOf(c);e>-1&&jsPanel.activePanels.list.splice(e,1);jsPanel.remMinReplacement(a);a.option.paneltype==='modal'&&jsPanel.removeModalBackdrop(a);a.option.paneltype.tooltip&&d.classList.remove('hasTooltip');jQuery(document).trigger('jspanelclosed',c);jQuery(document).trigger('jspanelstatuschange',c);let f,g,h;jsPanel.lastbeforeclose&&(f=jsPanel.lastbeforeclose.parent,g=jQuery(`.${jsPanel.lastbeforeclose.class}`,f),h=jsPanel.lastbeforeclose.class);g&&(g.each(function(a,b){b.classList.remove(h)}),g.each(function(b,c){jsPanel.position(c,a.option.position)}));jsPanel.lastbeforeclose=!1;b[2]===!0?jQuery.noop():jQuery.isFunction(a.option.onclosed)&&a.option.onclosed.call(a,a);b[0]&&jQuery.isFunction(b[0])&&b[0].call(a,a);jsPanel.resetZis()}}jQuery(document).trigger('jspanelbeforeclose',c);if(jQuery.isFunction(a.option.onbeforeclose)){if(b[1]===!0)jQuery.noop();else{if(a.option.onbeforeclose.call(a,a)===!1){return a}}}e?typeof e==='number'&&e>0?window.setTimeout(function(){g(a,b[0],b[2])},e):g(a,b[0],b[2]):g(a,b[0],b[2])},closeChildpanels(a){jQuery('.jsPanel',a).each((a,b)=>{b.jspanel.close()});return a},closePanels(a){jQuery(`.jsPanel-${a}`).each((a,b)=>{b.jspanel&&b.jspanel.close()})},calcPositionFactors(a){a.option.container==='body'?(a.hf=parseInt(a.css('left'),10)/(jQuery(window).outerWidth()-a.outerWidth()),a.vf=parseInt(a.css('top'),10)/(jQuery(window).outerHeight()-a.outerHeight())):(a.hf=parseInt(a.css('left'),10)/(a.parent().outerWidth()-a.outerWidth()),a.vf=parseInt(a.css('top'),10)/(a.parent().outerHeight()-a.outerHeight()))},color(a){let b=a.toLowerCase(),c,d,e,f,g,h,i,j,k,l={},m=/^#?([0-9a-f]{3}|[0-9a-f]{6})$/gi,n=/^rgba?\(([0-9]{1,3}),([0-9]{1,3}),([0-9]{1,3}),?(0|1|0\.[0-9]{1,2}|\.[0-9]{1,2})?\)$/gi,o=/^hsla?\(([0-9]{1,3}),([0-9]{1,3}\%),([0-9]{1,3}\%),?(0|1|0\.[0-9]{1,2}|\.[0-9]{1,2})?\)$/gi,p={aliceblue:'f0f8ff',antiquewhite:'faebd7',aqua:'0ff',aquamarine:'7fffd4',azure:'f0ffff',beige:'f5f5dc',bisque:'ffe4c4',black:'000',blanchedalmond:'ffebcd',blue:'00f',blueviolet:'8a2be2',brown:'a52a2a',burlywood:'deb887',cadetblue:'5f9ea0',chartreuse:'7fff00',chocolate:'d2691e',coral:'ff7f50',cornflowerblue:'6495ed',cornsilk:'fff8dc',crimson:'dc143c',cyan:'0ff',darkblue:'00008b',darkcyan:'008b8b',darkgoldenrod:'b8860b',darkgray:'a9a9a9',darkgrey:'a9a9a9',darkgreen:'006400',darkkhaki:'bdb76b',darkmagenta:'8b008b',darkolivegreen:'556b2f',darkorange:'ff8c00',darkorchid:'9932cc',darkred:'8b0000',darksalmon:'e9967a',darkseagreen:'8fbc8f',darkslateblue:'483d8b',darkslategray:'2f4f4f',darkslategrey:'2f4f4f',darkturquoise:'00ced1',darkviolet:'9400d3',deeppink:'ff1493',deepskyblue:'00bfff',dimgray:'696969',dimgrey:'696969',dodgerblue:'1e90ff',firebrick:'b22222',floralwhite:'fffaf0',forestgreen:'228b22',fuchsia:'f0f',gainsboro:'dcdcdc',ghostwhite:'f8f8ff',gold:'ffd700',goldenrod:'daa520',gray:'808080',grey:'808080',green:'008000',greenyellow:'adff2f',honeydew:'f0fff0',hotpink:'ff69b4',indianred:'cd5c5c',indigo:'4b0082',ivory:'fffff0',khaki:'f0e68c',lavender:'e6e6fa',lavenderblush:'fff0f5',lawngreen:'7cfc00',lemonchiffon:'fffacd',lightblue:'add8e6',lightcoral:'f08080',lightcyan:'e0ffff',lightgoldenrodyellow:'fafad2',lightgray:'d3d3d3',lightgrey:'d3d3d3',lightgreen:'90ee90',lightpink:'ffb6c1',lightsalmon:'ffa07a',lightseagreen:'20b2aa',lightskyblue:'87cefa',lightslategray:'789',lightslategrey:'789',lightsteelblue:'b0c4de',lightyellow:'ffffe0',lime:'0f0',limegreen:'32cd32',linen:'faf0e6',magenta:'f0f',maroon:'800000',mediumaquamarine:'66cdaa',mediumblue:'0000cd',mediumorchid:'ba55d3',mediumpurple:'9370d8',mediumseagreen:'3cb371',mediumslateblue:'7b68ee',mediumspringgreen:'00fa9a',mediumturquoise:'48d1cc',mediumvioletred:'c71585',midnightblue:'191970',mintcream:'f5fffa',mistyrose:'ffe4e1',moccasin:'ffe4b5',navajowhite:'ffdead',navy:'000080',oldlace:'fdf5e6',olive:'808000',olivedrab:'6b8e23',orange:'ffa500',orangered:'ff4500',orchid:'da70d6',palegoldenrod:'eee8aa',palegreen:'98fb98',paleturquoise:'afeeee',palevioletred:'d87093',papayawhip:'ffefd5',peachpuff:'ffdab9',peru:'cd853f',pink:'ffc0cb',plum:'dda0dd',powderblue:'b0e0e6',purple:'800080',rebeccapurple:'639',red:'f00',rosybrown:'bc8f8f',royalblue:'4169e1',saddlebrown:'8b4513',salmon:'fa8072',sandybrown:'f4a460',seagreen:'2e8b57',seashell:'fff5ee',sienna:'a0522d',silver:'c0c0c0',skyblue:'87ceeb',slateblue:'6a5acd',slategray:'708090',slategrey:'708090',snow:'fffafa',springgreen:'00ff7f',steelblue:'4682b4',tan:'d2b48c',teal:'008080',thistle:'d8bfd8',tomato:'ff6347',turquoise:'40e0d0',violet:'ee82ee',wheat:'f5deb3',white:'fff',whitesmoke:'f5f5f5',yellow:'ff0',yellowgreen:'9acd32'};p[b]&&(b=p[b]);b.match(m)!==null?(b=b.replace('#',''),b.length%2===1?(c=String(b.substr(0,1))+b.substr(0,1),d=String(b.substr(1,1))+b.substr(1,1),e=String(b.substr(2,1))+b.substr(2,1),l.rgb={r:parseInt(c,16),g:parseInt(d,16),b:parseInt(e,16)},l.hex=`#${c}${d}${e}`):(l.rgb={r:parseInt(b.substr(0,2),16),g:parseInt(b.substr(2,2),16),b:parseInt(b.substr(4,2),16)},l.hex=`#${b}`),k=this.rgbToHsl(l.rgb.r,l.rgb.g,l.rgb.b),l.hsl=k,l.rgb.css=`rgb(${l.rgb.r},${l.rgb.g},${l.rgb.b})`):b.match(n)?(i=n.exec(b),l.rgb={css:b,r:i[1],g:i[2],b:i[3]},l.hex=this.rgbToHex(i[1],i[2],i[3]),k=this.rgbToHsl(i[1],i[2],i[3]),l.hsl=k):b.match(o)?(i=o.exec(b),f=i[1]/360,g=i[2].substr(0,i[2].length-1)/100,h=i[3].substr(0,i[3].length-1)/100,j=this.hslToRgb(f,g,h),l.rgb={css:`rgb(${j[0]},${j[1]},${j[2]})`,r:j[0],g:j[1],b:j[2]},l.hex=this.rgbToHex(l.rgb.r,l.rgb.g,l.rgb.b),l.hsl={css:`hsl(${i[1]},${i[2]},${i[3]})`,h:i[1],s:i[2],l:i[3]}):(l.hex='#f5f5f5',l.rgb={css:'rgb(245,245,245)',r:245,g:245,b:245},l.hsl={css:'hsl(0,0%,96.08%)',h:0,s:'0%',l:'96.08%'});return l},configIconfont(a){let b=['remove','fullscreen','resize-full','minus','chevron-up','chevron-down'],c=['times fa-window-close','arrows-alt fa-window-maximize','expand fa-window-restore','minus fa-window-minimize','chevron-up','chevron-down'],d=['close','fullscreen','fullscreen_exit','call_received','expand_less','expand_more'],e=a.option.headerControls.iconfont,f=a.header.headerbar;e==='bootstrap'||e==='glyphicon'?this.controls.forEach((a,c)=>{jQuery(`.jsPanel-btn-${a} span`,f).removeClass().addClass(`glyphicon glyphicon-${b[c]}`)}):e==='font-awesome'?this.controls.forEach((a,b)=>{jQuery(`.jsPanel-btn-${a} span`,f).removeClass().addClass(`fa fa-${c[b]}`)}):e==='material-icons'?this.controls.forEach((a,b)=>{jQuery(`.jsPanel-btn-${a} span`,f).removeClass().addClass('material-icons').text(d[b])}):Array.isArray(e)&&this.controls.forEach((a,b)=>{jQuery(`.jsPanel-btn-${a} span`,f).removeClass().addClass(`custom-control-icon ${e[b]}`)})},configToolbar(a,b,c){a.forEach(a=>{if(typeof a==='object'){let d=jQuery(a.item);typeof a.btntext==='string'&&d.append(a.btntext);typeof a.btnclass==='string'&&a.btnclass.split(' ').forEach(function(a){d[0].classList.add(a)});b.append(d);if(jQuery.isFunction(a.callback)){let b=a.event||'click';d.on(b,c,a.callback)}}})},contentReload(a,b){a.option.content?a.content.empty().append(a.option.content):a.option.contentAjax?(a.content.empty(),this.ajax(a)):a.option.contentIframe&&(a.content.empty(),this.iframe(a));b&&jQuery.isFunction(b)&&b.call(a,a);return a},contentResize(a,b){let c=a.footer[0].classList.contains('active')?a.header.outerHeight()+a.footer.outerHeight():a.header.outerHeight(),d=parseInt(a.css('border-top-width'),10)+parseInt(a.css('border-bottom-width'),10);a.content.css({height:a.outerHeight()-c-d});b&&jQuery.isFunction(b)&&b.call(a,a);return a},createMinimizedReplacement(a){let b=jQuery(this.replacementTemplate),c=a.header.title.css('color'),d=a.header.title[0].textContent,e;a.header.css('background-color')==='transparent'?(e=a.css('background-color')):(e=a.header.css('background-color'));a.css('left','-9999px').data('status','minimized');b.css('background-color',e).prop('id',`${a.prop('id')}-min`).find('h3').css('color',c).prop('title',d).html(d);a.header.logo.children().length&&jQuery('.jsPanel-headerbar',b).prepend(a.header.logo.clone());let f=a.option.headerControls.iconfont;f==='font-awesome'?(jQuery('.jsglyph.jsglyph-normalize',b).removeClass().addClass('fa fa-expand fa-window-restore'),jQuery('.jsglyph.jsglyph-maximize',b).removeClass().addClass('fa fa-arrows-alt fa-window-maximize'),jQuery('.jsglyph.jsglyph-close',b).removeClass().addClass('fa fa-times fa-window-close')):f==='bootstrap'||f==='glyphicon'?(jQuery('.jsglyph.jsglyph-normalize',b).removeClass().addClass('glyphicon glyphicon-resize-full'),jQuery('.jsglyph.jsglyph-maximize',b).removeClass().addClass('glyphicon glyphicon-fullscreen'),jQuery('.jsglyph.jsglyph-close',b).removeClass().addClass('glyphicon glyphicon-remove')):f==='material-icons'?(jQuery('.jsglyph.jsglyph-normalize',b).removeClass().addClass('material-icons').text('call_made'),jQuery('.jsglyph.jsglyph-maximize',b).removeClass().addClass('material-icons').text('fullscreen'),jQuery('.jsglyph.jsglyph-close',b).removeClass().addClass('material-icons').text('close')):Array.isArray(f)&&(jQuery('.jsglyph.jsglyph-normalize',b).removeClass().addClass(`custom-control-icon ${f[2]}`),jQuery('.jsglyph.jsglyph-maximize',b).removeClass().addClass(`custom-control-icon ${f[1]}`),jQuery('.jsglyph.jsglyph-close',b).removeClass().addClass(`custom-control-icon ${f[0]}`));jQuery('.jsPanel-btn span',b).css({color:c});return b},darken(a,b){let c=this.color(a).hsl,d=parseFloat(c.l),e=d-d*b+'%';return`hsl(${c.h},${c.s},${e})`},dblclickhelper(a,b){typeof a==='string'&&(a==='maximize'||a==='normalize'?b.data('status')==='normalized'?b.maximize():b.normalize():(a==='minimize'||a==='smallify'||a==='close')&&b[a]())},dragit(a,b = {}){let c;typeof a==='string'?(c=document.querySelector(a)):a.jquery?(c=a[0]):(c=a);let d=a.jquery?a:c,f,g=Object.assign({},jQuery.jsPanel.defaults.dragit,b),h=g.containment,i,j,k,l=c.parentElement,m=window.getComputedStyle(c,null),n=m.getPropertyValue('position'),o=l.tagName.toLowerCase(),p=c.querySelector('.jsPanel-content'),q,r,s;jsPanel.isIE?(q=document.createEvent('CustomEvent'),r=document.createEvent('CustomEvent'),s=document.createEvent('CustomEvent'),q.initCustomEvent('dragstart',!0,!0,{}),r.initCustomEvent('drag',!0,!0,{}),s.initCustomEvent('dragstop',!0,!0,{})):(q=new Event('dragstart'),r=new Event('drag'),s=new Event('dragstop'));function t(a){a.preventDefault()}k=g.handles?c.querySelectorAll(g.handles):[c];for(let a=0;a<k.length;++a)k[a].style.cursor=g.cursor;typeof h==='number'?(h=[].concat(h,h,h,h)):Object.prototype.toString.call(h)==='[object Array]'&&(h.length===2?(h=h.concat(h)):h.length===3&&(h[3]=h[1]));Object.prototype.toString.call(h)==='[object Array]'&&(i=h,o==='body'?(g.containment=h='window'):(g.containment=h='parent'));h&&o==='body'&&(g.containment=h='window');for(let a=0;a<k.length;a++)k[a].addEventListener(jsPanel.evtStart,function(a){a.stopPropagation();let b=c.getBoundingClientRect(),e=l.getBoundingClientRect(),k=window.getComputedStyle(l,null),m=k.getPropertyValue('position'),s=parseInt(k.getPropertyValue('border-left-width'),10),u=parseInt(k.getPropertyValue('border-right-width'),10),v=parseInt(k.getPropertyValue('border-top-width'),10),w=parseInt(k.getPropertyValue('border-bottom-width'),10),x,y,z=a.pageX||a.touches[0].pageX,A=a.pageY||a.touches[0].pageY,B=window.scrollX||window.pageXOffset,C=window.scrollY||window.pageYOffset,D,E,F,G;p.style.pointerEvents='none';n==='fixed'?(x=b.left,y=b.top):o==='body'||m==='static'?(x=b.left/* + scrollLeft*/,y=b.top/* + scrollTop*/):o!=='body'&&(x=b.left-e.left-s+l.scrollLeft,y=b.top-e.top-v+l.scrollTop);window.addEventListener(jsPanel.evtStart,t(a),!1);o==='body'&&h?(n==='fixed'?(D=0,F=0,E=document.documentElement.clientWidth-b.width,G=document.documentElement.clientHeight-b.height):(D=B,F=C,E=document.documentElement.clientWidth-b.width+B,G=document.documentElement.clientHeight-b.height+C)):h==='parent'?(m==='static'?(D=e.left+s+B,F=e.top+v+C,E=D+e.width-b.width-s-u,G=F+e.height-b.height-v-w):(D=0,F=0,E=e.width-b.width-s-u,G=e.height-b.height-v-w)):h==='window'&&(m==='static'?(D=B,F=C,E=document.documentElement.clientWidth-b.width+B,G=document.documentElement.clientHeight-b.height+C):(D=-e.left-s,F=-e.top-v,E=document.documentElement.clientWidth-e.left-b.width-u,G=document.documentElement.clientHeight-e.top-b.height-w));i&&(D+=i[3],F+=i[0],E-=i[1],G-=i[2]);let H=parseFloat(c.style.left)-b.left,I=parseFloat(c.style.top)-b.top;l!==document.body&&(H+=e.left,I+=e.top);j=function(a){a.stopPropagation();f||(document.dispatchEvent(q),c.style.opacity=g.opacity,typeof g.start==='function'&&g.start.call(d,d));f=1;document.dispatchEvent(r);let b=s+x+(a.pageX||a.touches[0].pageX)-z+H,e=v+y+(a.pageY||a.touches[0].pageY)-A+I;b<=D?(b=D):b>=E&&(b=E);e<=F?(e=F):e>=G&&(e=G);g.axis==='x'?(c.style.left=b+'px'):g.axis==='y'?(c.style.top=e+'px'):(c.style.left=b+'px',c.style.top=e+'px');if(g.grid&&Array.isArray(g.grid)){g.grid.length===1&&(g.grid[1]=g.grid[0]);let a=parseFloat(c.style.left),b=parseFloat(c.style.top),d=a%g.grid[0],e=b%g.grid[1];d<g.grid[0]/2?(c.style.left=a-d+'px'):(c.style.left=a+(g.grid[0]-d)+'px');e<g.grid[1]/2?(c.style.top=b-e+'px'):(c.style.top=b+(g.grid[1]-e)+'px')}window.getSelection().removeAllRanges();typeof g.drag==='function'&&g.drag.call(d,d)};document.addEventListener(jsPanel.evtMove,j,!1)},!1);document.addEventListener(jsPanel.evtEnd,function(){document.removeEventListener(jsPanel.evtMove,j,!1);f&&(p.style.pointerEvents='inherit',document.dispatchEvent(s),c.style.opacity=1,f=undefined,typeof g.stop==='function'&&g.stop.call(d,d));window.removeEventListener(jsPanel.evtEnd,t,!1)},!1);return d},resizeit(a,b = {}){let c;typeof a==='string'?(c=document.querySelector(a)):a.jquery?(c=a[0]):(c=a);let d=a.jquery?a:c,f,g=Object.assign({},jQuery.jsPanel.defaults.resizeit,b),h=g.containment,i,j,k=window.getComputedStyle(c,null),l=k.getPropertyValue('position'),m=parseInt(k.getPropertyValue('border-left-width'),10),n=parseInt(k.getPropertyValue('border-top-width'),10),o=parseInt(k.getPropertyValue('border-right-width'),10),p=parseInt(k.getPropertyValue('border-bottom-width'),10),q=c.parentElement,r=q.tagName.toLowerCase(),s=c.querySelector('.jsPanel-content'),t=typeof g.maxWidth==='function'?g.maxWidth():g.maxWidth,u=typeof g.maxHeight==='function'?g.maxHeight():g.maxHeight,v=typeof g.minWidth==='function'?g.minWidth():g.minWidth,w=typeof g.minHeight==='function'?g.minHeight():g.minHeight,x,y,z;jsPanel.isIE?(x=document.createEvent('CustomEvent'),y=document.createEvent('CustomEvent'),z=document.createEvent('CustomEvent'),x.initCustomEvent('dragstart',!0,!0,{}),y.initCustomEvent('drag',!0,!0,{}),z.initCustomEvent('dragstop',!0,!0,{})):(x=new Event('dragstart'),y=new Event('drag'),z=new Event('dragstop'));function A(a){a.preventDefault()}typeof h==='number'?(h=[].concat(h,h,h,h)):Object.prototype.toString.call(h)==='[object Array]'&&(h.length===2?(h=h.concat(h)):h.length===3&&(h[3]=h[1]));Object.prototype.toString.call(h)==='[object Array]'&&(i=h,r==='body'?(g.containment=h='window'):(g.containment=h='parent'));h&&r==='body'&&(g.containment=h='window');g.handles.split(',').forEach(function(a){let b=document.createElement('DIV');b.className=`jsPanel-resizeit-handle jsPanel-resizeit-${a.trim()}`;b.style.zIndex=90;c.appendChild(b)});let B=c.getElementsByClassName('jsPanel-resizeit-handle');for(let b=0;b<B.length;b++)B[b].addEventListener(jsPanel.evtStart,function(b){b.stopPropagation();let e=c.getBoundingClientRect(),k=q.getBoundingClientRect(),z=window.getComputedStyle(q,null),B=z.getPropertyValue('position'),C=parseInt(z.getPropertyValue('border-left-width'),10),D=parseInt(z.getPropertyValue('border-top-width'),10),E=parseInt(z.getPropertyValue('border-bottom-width'),10),F=b.pageX||b.touches[0].pageX,G=b.pageY||b.touches[0].pageY,H=window.scrollX||window.pageXOffset,J=e.width,K=e.height,L,M,N=b.target,O=10000,P=10000,Q=10000,R=10000;s.style.pointerEvents='none';l==='fixed'?(L=e.left-m-o,M=e.top-n-p):r==='body'||B==='static'?(L=e.left-m-o,M=e.top-n-p):r!=='body'&&(L=e.left-k.left-C+q.scrollLeft-m-o,M=e.top-k.top-D+q.scrollTop-n-p);r==='body'&&h?(O=document.documentElement.clientWidth-e.left-m-o,Q=document.documentElement.clientHeight-e.top-n-p,P=e.width+e.left-m-o,R=e.height+e.top-n-p):h==='parent'?(B==='static'?(O=k.width-e.left-m-H,Q=k.height+k.top-e.top+n-D-E,P=e.width+(e.left-k.left)-C,R=e.height+(e.top-k.top)-D):(O=q.clientWidth-(e.left-k.left)+m,Q=q.clientHeight-(e.top-k.top)+n,P=e.width+(e.left-k.left)-C-m-o,R=c.clientHeight+(e.top-k.top)-n-n-p)):h==='window'&&(O=document.documentElement.clientWidth-e.left-m-o,Q=document.documentElement.clientHeight-e.top-n-p,P=e.left+e.width-m-o,R=e.top+e.height-n-p);i&&(P-=i[3],R-=i[0],O-=i[1],Q-=i[2]);window.addEventListener(jsPanel.evtStart,A(b),!1);let S=window.getComputedStyle(c),T=parseFloat(S.width)-e.width,U=parseFloat(S.height)-e.height,V=parseFloat(S.left)-e.left,W=parseFloat(S.top)-e.top;q!==document.body&&(V+=k.left,W+=k.top);j=function(b){f||(document.dispatchEvent(x),typeof g.start==='function'&&g.start.call(d,d));f=1;document.dispatchEvent(y);if(N.classList.contains('jsPanel-resizeit-e')){let a=J+(b.pageX||b.touches[0].pageX)-F+T;a>=O&&(a=O);a>=t?(a=t):a<=v&&(a=v);c.style.width=a+'px'}else if(N.classList.contains('jsPanel-resizeit-se')){let a=J+(b.pageX||b.touches[0].pageX)-F+T,d=K+(b.pageY||b.touches[0].pageY)-G+U;a>=O&&(a=O);d>=Q&&(d=Q);a>=t?(a=t):a<=v&&(a=v);d>=u?(d=u):d<=w&&(d=w);c.style.width=a+'px';c.style.height=d+'px'}else if(N.classList.contains('jsPanel-resizeit-s')){let a=K+(b.pageY||b.touches[0].pageY)-G+U;a>=Q&&(a=Q);a>=u?(a=u):a<=w&&(a=w);c.style.height=a+'px'}else if(N.classList.contains('jsPanel-resizeit-w')){let a=J+F-(b.pageX||b.touches[0].pageX)+T;a<=t&&a>=v&&a<=P&&(c.style.left=L+C+(b.pageX||b.touches[0].pageX)-F+V+'px');a>=P&&(a=P);a>=t?(a=t):a<=v&&(a=v);c.style.width=a+'px'}else if(N.classList.contains('jsPanel-resizeit-n')){let a=K+G-(b.pageY||b.touches[0].pageY)+U;a<=u&&a>=w&&a<=R&&(c.style.top=M+D+(b.pageY||b.touches[0].pageY)-G+W+'px');a>=R&&(a=R);a>=u?(a=u):a<=w&&(a=w);c.style.height=a+'px'}else if(N.classList.contains('jsPanel-resizeit-sw')){let a=K+(b.pageY||b.touches[0].pageY)-G+U;a>=Q&&(a=Q);a>=u?(a=u):a<=w&&(a=w);c.style.height=a+'px';let d=J+F-(b.pageX||b.touches[0].pageX)+T;d<=t&&d>=v&&d<=P&&(c.style.left=L+C+(b.pageX||b.touches[0].pageX)-F+V+'px');d>=P&&(d=P);d>=t?(d=t):d<=v&&(d=v);c.style.width=d+'px'}else if(N.classList.contains('jsPanel-resizeit-nw')){let a=K+G-(b.pageY||b.touches[0].pageY)+U;a<=u&&a>=w&&a<=R&&(c.style.top=M+D+(b.pageY||b.touches[0].pageY)-G+W+'px');a>=R&&(a=R);a>=u?(a=u):a<=w&&(a=w);c.style.height=a+'px';let d=J+F-(b.pageX||b.touches[0].pageX)+T;d<=t&&d>=v&&d<=P&&(c.style.left=L+C+(b.pageX||b.touches[0].pageX)-F+V+'px');d>=P&&(d=P);d>=t?(d=t):d<=v&&(d=v);c.style.width=d+'px'}else if(N.classList.contains('jsPanel-resizeit-ne')){let a=K+G-(b.pageY||b.touches[0].pageY)+U;a<=u&&a>=w&&a<=R&&(c.style.top=M+D+(b.pageY||b.touches[0].pageY)-G+W+'px');a>=R&&(a=R);a>=u?(a=u):a<=w&&(a=w);c.style.height=a+'px';let d=J+(b.pageX||b.touches[0].pageX)-F+T;d>=O&&(d=O);d>=t?(d=t):d<=v&&(d=v);c.style.width=d+'px'};jsPanel.contentResize(a);window.getSelection().removeAllRanges();typeof g.resize==='function'&&g.resize.call(d,d)};document.addEventListener(jsPanel.evtMove,j,!1)},!1);document.addEventListener(jsPanel.evtEnd,function(b){if(b.target.classList.contains('jsPanel-resizeit-handle')){let e,h,i=b.target.className;i.match(/jsPanel-resizeit-nw|jsPanel-resizeit-w|jsPanel-resizeit-sw/i)&&(e=!0);i.match(/jsPanel-resizeit-nw|jsPanel-resizeit-n|jsPanel-resizeit-ne/i)&&(h=!0);if(g.grid&&Array.isArray(g.grid)){g.grid.length===1&&(g.grid[1]=g.grid[0]);let a=parseFloat(c.style.width),b=parseFloat(c.style.height),d=a%g.grid[0],f=b%g.grid[1],i=parseFloat(c.style.left),j=parseFloat(c.style.top),k=i%g.grid[0],l=j%g.grid[1];d<g.grid[0]/2?(c.style.width=a-d+'px'):(c.style.width=a+(g.grid[0]-d)+'px');f<g.grid[1]/2?(c.style.height=b-f+'px'):(c.style.height=b+(g.grid[1]-f)+'px');e&&(k<g.grid[0]/2?(c.style.left=i-k+'px'):(c.style.left=i+(g.grid[0]-k)+'px'));h&&(l<g.grid[1]/2?(c.style.top=j-l+'px'):(c.style.top=j+(g.grid[1]-l)+'px'))}jsPanel.contentResize(a);document.removeEventListener(jsPanel.evtMove,j,!1);f&&(s.style.pointerEvents='inherit',document.dispatchEvent(z),f=undefined,(jQuery(c).data('status')==='smallified'||jQuery(c).data('status')==='smallifiedMax')&&jQuery(c).height()>jQuery(c).header.height()&&(jQuery(c).hideControls(['.jsPanel-btn-normalize','.jsPanel-btn-smallifyrev']),jQuery(c).data('status','normalized'),jQuery(document).trigger('jspanelnormalized'),jQuery(document).trigger('jspanelstatuschange')),jsPanel.calcPositionFactors(a),typeof g.stop==='function'&&g.stop.call(d,d));window.removeEventListener(jsPanel.evtEnd,A,!1)}},!1);return d},exportPanels(a = '.jsPanel',b = 'jspanels'){let c=[],d=jQuery('.jsPanel').not('.jsPanel-tooltip, .jsPanel-hint, .jsPanel-modal').filter(a);d.each((a,b)=>{jQuery(b).data('status')!=='normalized'&&jQuery('.jsPanel-btn-normalize',b).trigger('click')});d.each((a,b)=>{let d,e,f,g,h,i=jQuery(b).data('container'),j=jQuery(b).offset(),k=jQuery(b).position(),l=jQuery(b).data('status');l==='minimized'?(i.toLowerCase()==='body'?(d=jQuery(b).data('paneltop')-jQuery(window).scrollTop(),e=jQuery(b).data('panelleft')-jQuery(window).scrollLeft()):(d=jQuery(b).data('paneltop'),e=jQuery(b).data('panelleft')),f=jQuery(b).data('panelwidth'),g=jQuery(b).data('panelheight')):(i.toLowerCase()==='body'?(d=Math.floor(j.top-jQuery(window).scrollTop()),e=Math.floor(j.left-jQuery(window).scrollLeft())):(d=Math.floor(k.top),e=Math.floor(k.left)),f=jQuery(b).css('width'),g=jQuery('.jsPanel-content',b).css('height'));h={status:jQuery(b).data('status'),id:jQuery(b).prop('id'),headerTitle:jQuery('.jsPanel-title',b).html(),custom:jQuery(b).data('custom'),content:jQuery(b).data('content'),contentSize:{width:f,height:g},position:{my:'left-top',at:'left-top',offsetX:e,offsetY:d}};jQuery(b).data('ajaxURL')&&(h.contentAjax={url:jQuery(b).data('ajaxURL'),autoload:!0});(jQuery(b).data('iframeDOC')||jQuery(b).data('iframeSRC'))&&(h.contentIframe={src:jQuery(b).data('iframeSRC')||'',srcdoc:jQuery(b).data('iframeDOC')||''});c.push(h);switch(h.status){case 'minimized':jQuery('.jsPanel-btn-minimize',b).trigger('click');break;case 'maximized':jQuery('.jsPanel-btn-maximize',b).trigger('click');break;case 'smallified':jQuery('.jsPanel-btn-smallify',b).trigger('click');break;case 'smallifiedMax':jQuery('.jsPanel-btn-smallify',b).trigger('click');break}});window.localStorage.setItem(b,JSON.stringify(c));return c},front(a,b){a.css('z-index',this.setZi(a));this.resetZis();jQuery(document).trigger('jspanelfronted',a.prop('id'));if(jQuery.isFunction(a.option.onfronted)){if(a.option.onfronted.call(a,a)===!1){return a}else a.option.onfronted.call(a,a)}b&&jQuery.isFunction(b)&&b.call(a,a);return a},getThemeDetails(a){let b={color:!1,colors:!1,filling:!1,bs:!1,bstheme:!1};a.substr(-6,6)==='filled'?(b.filling='filled',b.color=a.substr(0,a.length-6)):a.substr(-11,11)==='filledlight'?(b.filling='filledlight',b.color=a.substr(0,a.length-11)):(b.filling='',b.color=a);b.colors=this.calcColors(b.color);if(b.color.match('-')){let a=b.color.split('-');b.bs=a[0];b.bstheme=a[1];b.mdbStyle=a[2]||undefined}return b},getTopmostPanel(){let c=[];jQuery('.jsPanel:not(.jsPanel-tooltip):not(.jsPanel-hint)').each(function(a,b){c.push(b)});c.sort(function(a,b){return jQuery(b).css('z-index')-jQuery(a).css('z-index')});return c[0].getAttribute('id')},headerTitle(a,b){if(b){a.header.title.empty().append(b);return a}return a.header.title.html()},headerControl(a,b,c = 'enable'){b?this.setControlStatus(a,b,c):this.controls.forEach(function(b){jsPanel.setControlStatus(a,b)});return a},hslToRgb(a,b,c){let d,e,f;if(b===0)d=e=f=c;else{let g=function d(a,b,c){c<0&&(c+=1);c>1&&(c-=1);if(c<0.16666666666666666){return a+(b-a)*6*c}if(c<0.5){return b}if(c<0.6666666666666666){return a+(b-a)*(0.6666666666666666-c)*6}return a},h=c<0.5?c*(1+b):c+b-c*b,i=2*c-h;d=g(i,h,a+0.3333333333333333);e=g(i,h,a);f=g(i,h,a-0.3333333333333333)}return[Math.round(d*255),Math.round(e*255),Math.round(f*255)]},iframe(a){let b=jQuery('<iframe></iframe>'),c=a.option.contentIframe;c.srcdoc&&(b.prop('srcdoc',c.srcdoc),a.data('iframeDOC',c.srcdoc));c.src&&(b.prop('src',c.src),a.data('iframeSRC',c.src));a.option.contentSize.width!=='auto'&&!c.width?b.css('width','100%'):b.prop('width',c.width);a.option.contentSize.height!=='auto'&&!c.height?b.css('height','100%'):b.prop('height',c.height);c.name&&b.prop('name',c.name);c.sandbox&&b.prop('sandox',c.sandbox);c.id&&b.prop('id',c.id);jQuery.isPlainObject(c.style)&&b.css(c.style);typeof c.classname==='string'?b.addClass(c.classname):jQuery.isFunction(c.classname)&&b.addClass(c.classname());a.content.append(b)},importPanels(a,b = 'jspanels'){let c=a['default']||{},d;JSON.parse(localStorage[b]).forEach(b=>{typeof b.custom.config==='string'?(d=jQuery.extend(!0,{},c,a[b.custom.config],b)):(d=jQuery.extend(!0,{},c,b));jQuery.jsPanel(d)})},insertModalBackdrop(a){let b=jQuery('.jsPanel-modal-backdrop').length,c=b===0?'jsPanel-modal-backdrop':'jsPanel-modal-backdrop jsPanel-modal-backdrop-multi',d=`<div id="jsPanel-modal-backdrop-${a.attr('id')}" class="${c}" style="z-index:${this.modalcount+9999}"></div>`;jQuery('body').append(d);this.modalcount+=1},removeModalBackdrop(a){let b=jQuery(`#jsPanel-modal-backdrop-${a.attr('id')}`);b[0].classList.add('jsPanel-modal-backdrop-out');let c=parseFloat(b.css('animation-duration'),10)*1000;window.setTimeout(function(){b.remove()},c);this.modalcount-=1},lighten(a,b){let c=this.color(a).hsl,d=parseFloat(c.l),e=d+(100-d)*b+'%';return`hsl(${c.h},${c.s},${e})`},maximize(a,b,c = !0){let d=a.option.maximizedMargin,e=a[0].parentNode,f=a.attr('id');if(jQuery.isPlainObject(d)){let a=typeof d.top==='number'?d.top:5,b=typeof d.right==='number'?d.right:5,c=typeof d.bottom==='number'?d.bottom:5,e=typeof d.left==='number'?d.left:5;d=[a,b,c,e]}typeof d==='number'?(d=[].concat(d,d,d,d)):jQuery.isArray(d)&&d.length===2?(d=d.concat(d)):jQuery.isArray(d)&&d.length===3&&(d[3]=d[1]);a.data('status')==='normalized'&&a.updateCachedData();jQuery(document).trigger('jspanelbeforemaximize',f);if(jQuery.isFunction(a.option.onbeforemaximize)&&a.option.onbeforemaximize.call(a,a)===!1){return a}a.css('overflow','visible');e===document.body?(a.css({width:document.documentElement.clientWidth-d[3]-d[1]+'px',height:document.documentElement.clientHeight-d[0]-d[2]+'px',left:d[3]+'px',top:d[0]+'px'}),a.option.position.fixed===!1&&a.css({left:window.pageXOffset+d[3]+'px',top:window.pageYOffset+d[0]+'px'})):a.css({width:e.clientWidth-d[3]-d[1]+'px',height:e.clientHeight-d[0]-d[2]+'px',left:d[3]+'px',top:d[0]+'px'});a.contentResize().data('status','maximized');c&&a.css('z-index',this.setZi(a));a.hideControls(['.jsPanel-btn-maximize','.jsPanel-btn-smallifyrev']);this.remMinReplacement(a);jQuery(document).trigger('jspanelmaximized',f);jQuery(document).trigger('jspanelstatuschange',f);jQuery.isFunction(a.option.onmaximized)&&a.option.onmaximized.call(a,a);b&&jQuery.isFunction(b)&&b.call(a,a);return a},minimize(a,b){let c=a.attr('id');if(a.data('status')==='minimized'){return a}jQuery(document).trigger('jspanelbeforeminimize',c);if(jQuery.isFunction(a.option.onbeforeminimize)&&a.option.onbeforeminimize.call(a,a)===!1){return a}let d=a.data('status');d==='normalized'?a.updateCachedData():d==='smallified'&&(a.cachedData.top=a.css('top'),a.cachedData.left=a.css('left'));let e=this.createMinimizedReplacement(a),f=jQuery(a.option.container).closest('.jsPanel-content');if(!f.length){let b='#jsPanel-replacement-container';a.option.minimizeTo&&(typeof a.option.minimizeTo==='string'&&(b=a.option.minimizeTo),jQuery(b).append(e))}else{let b='.jsPanel-minimized-box';a.option.minimizeTo&&(typeof a.option.minimizeTo==='string'?(b=a.option.minimizeTo,jQuery(b).append(e)):jQuery(b,f.parent()).append(e))}jQuery(document).trigger('jspanelminimized',c);jQuery(document).trigger('jspanelstatuschange',c);jQuery.isFunction(a.option.onminimized)&&a.option.onminimized.call(a,a);b&&jQuery.isFunction(b)&&b.call(a,a);jQuery('.jsPanel-btn-normalize',e).css('display','block').on('click',()=>a.normalize());a[0].dataset.btnnormalize==='disabled'?jQuery('.jsPanel-btn-normalize',e).css({pointerEvents:'none',opacity:0.5,cursor:'default'}):a[0].dataset.btnnormalize==='removed'&&jQuery('.jsPanel-btn-normalize',e).remove();jQuery('.jsPanel-btn-maximize',e).on('click',()=>a.maximize());a[0].dataset.btnmaximize==='disabled'?jQuery('.jsPanel-btn-maximize',e).css({pointerEvents:'none',opacity:0.5,cursor:'default'}):a[0].dataset.btnmaximize==='removed'&&jQuery('.jsPanel-btn-maximize',e).remove();jQuery('.jsPanel-btn-close',e).on('click',()=>a.close());a[0].dataset.btnclose==='disabled'&&jQuery('.jsPanel-btn-close',e).css({pointerEvents:'none',opacity:0.5,cursor:'default'});return a},normalize(a,b){let c=a.attr('id');if(a.data('status')==='normalized'){return a}jQuery(document).trigger('jspanelbeforenormalize',c);if(jQuery.isFunction(a.option.onbeforenormalize)&&a.option.onbeforenormalize.call(a,a)===!1){return a}if(a.data('status')==='smallified'){a.smallify();jQuery(document).trigger('jspanelnormalized',c);jQuery(document).trigger('jspanelstatuschange',c);jQuery.isFunction(a.option.onnormalized)&&a.option.onnormalized.call(a,a);return a}a.css({left:a.cachedData.left,top:a.cachedData.top,width:a.cachedData.width,height:a.cachedData.height,zIndex:function(){jsPanel.setZi(a)},overflow:'visible'}).data('status','normalized').contentResize();a.hideControls(['.jsPanel-btn-normalize','.jsPanel-btn-smallifyrev']);this.remMinReplacement(a);jQuery(document).trigger('jspanelnormalized',c);jQuery(document).trigger('jspanelstatuschange',c);jQuery.isFunction(a.option.onnormalized)&&a.option.onnormalized.call(a,a);b&&jQuery.isFunction(b)&&b.call(a,a);return a},noscroll(a){a.preventDefault()},perceivedBrightness(a){let b=this.color(a).rgb;return b.r/255*0.2627+b.g/255*0.6780+b.b/255*0.0593},position(a,b){let c,d,e,f,g=0,h=0,i,j,k,l={my:'center',at:'center',offsetX:0,offsetY:0,modify:!1,fixed:'true'},m=['left-top','left-center','left-bottom'],n=['center-top','center','center-bottom'],o=['right-top','right-center','right-bottom'],p=['left-top','center-top','right-top'],q=['left-center','center','right-center'],r=['left-bottom','center-bottom','right-bottom'];function s(a){let b={};m.indexOf(a)>-1?(b.left=window.pageXOffset):n.indexOf(a)>-1?(b.left=window.pageXOffset+document.documentElement.clientWidth/2):o.indexOf(a)>-1?(b.left=window.pageXOffset+document.documentElement.clientWidth):(b.left=window.pageXOffset);p.indexOf(a)>-1?(b.top=window.pageYOffset):q.indexOf(a)>-1?(b.top=window.pageYOffset+window.innerHeight/2):r.indexOf(a)>-1?(b.top=window.pageYOffset+window.innerHeight):(b.top=window.pageYOffset);return b}function t(a){let b={},c=w(e.of);m.indexOf(a)>-1?(b.left=c.left):n.indexOf(a)>-1?(b.left=c.left+c.width/2):o.indexOf(a)>-1?(b.left=c.left+c.width):(b.left=c.left);p.indexOf(a)>-1?(b.top=c.top):q.indexOf(a)>-1?(b.top=c.top+c.height/2):r.indexOf(a)>-1?(b.top=c.top+c.height):(b.top=c.top);return b}function u(a){let b={},c=f.getBoundingClientRect();m.indexOf(a)>-1?(b.left=0):n.indexOf(a)>-1?(b.left=c.width/2):o.indexOf(a)>-1?(b.left=c.width):(b.left=0);p.indexOf(a)>-1?(b.top=0):q.indexOf(a)>-1?(b.top=c.height/2):r.indexOf(a)>-1?(b.top=c.height):(b.top=0);return b}function v(a){let b={},c=f.getBoundingClientRect(),d=document.querySelector(e.of).getBoundingClientRect(),g=d.left-c.left,h=d.top-c.top;m.indexOf(a)>-1?(b.left=g):n.indexOf(a)>-1?(b.left=g+d.width/2):o.indexOf(a)>-1?(b.left=g+d.width):(b.left=g);p.indexOf(a)>-1?(b.top=h):q.indexOf(a)>-1?(b.top=h+d.height/2):r.indexOf(a)>-1?(b.top=h+d.height):(b.top=h);return b}function w(a){let b;a.jquery?(b=a[0].getBoundingClientRect()):typeof a==='string'?(b=document.querySelector(a).getBoundingClientRect()):(b=a.getBoundingClientRect());return{width:Math.round(b.width),height:Math.round(b.height),left:Math.round(b.left+window.pageXOffset),top:Math.round(b.top+window.pageYOffset)}}if(typeof b==='string'){let a=/\b[a-z]{4,6}-{1}[a-z]{3,6}\b/,c=/DOWN|UP|RIGHT|LEFT/,d=/[+-]?\d+\.?\d*%?/g,e=b.match(a),f=b.match(c),g=b.match(d),h;jQuery.isArray(e)?(h={my:e[0],at:e[0]}):(h={my:'center',at:'center'});jQuery.isArray(f)&&(h.autoposition=f[0]);jQuery.isArray(g)&&(h.offsetX=g[0],g.length===2&&(h.offsetY=g[1]));b=h}else{let a=b.left===0||b.left,c=b.top===0||b.top,d=b.right===0||b.right,e=b.bottom===0||b.bottom;a&&c?(b.my='left-top',b.at='left-top',b.offsetX=b.left,b.offsetY=b.top):a&&e?(b.my='left-bottom',b.at='left-bottom',b.offsetX=b.left,b.offsetY=-b.bottom):d&&c?(b.my='right-top',b.at='right-top',b.offsetX=-b.right,b.offsetY=b.top):d&&e&&(b.my='right-bottom',b.at='right-bottom',b.offsetX=-b.right,b.offsetY=-b.bottom)}e=Object.assign(l,b);typeof a==='string'?(c=document.querySelector(a)):a.jquery?(c=a[0]):(c=a);if(typeof b==='boolean'&&b===!1){c.style.opacity=1;return c}f=c.parentElement||document.body;e.of||(f===document.body?e.of='window':e.of=f);d=w(c);typeof e.offsetX==='string'&&e.offsetX.slice(-1)==='%'?(e.of==='window'?(e.offsetX=window.innerWidth*(parseInt(e.offsetX,10)/100)):(e.offsetX=f.clientWidth*(parseInt(e.offsetX,10)/100))):typeof e.offsetX==='string'?(e.offsetX=parseFloat(e.offsetX)):jQuery.isFunction(e.offsetX)&&(e.offsetX=parseInt(e.offsetX.call(a,a),10));typeof e.offsetY==='string'&&e.offsetY.slice(-1)==='%'?(e.of==='window'?(e.offsetY=window.innerHeight*(parseInt(e.offsetY,10)/100)):(e.offsetY=f.clientHeight*(parseInt(e.offsetY,10)/100))):typeof e.offsetY==='string'?(e.offsetY=parseFloat(e.offsetY)):jQuery.isFunction(e.offsetY)&&(e.offsetY=parseInt(e.offsetY.call(a,a),10));m.indexOf(e.my)>-1?(g=0):n.indexOf(e.my)>-1?(g=d.width/2):o.indexOf(e.my)>-1&&(g=d.width);p.indexOf(e.my)>-1?(h=0):q.indexOf(e.my)>-1?(h=d.height/2):r.indexOf(e.my)>-1&&(h=d.height);if(f===document.body){if(e.of==='window'){let a=s(e.at);e.fixed?(j=a.left-g+e.offsetX-window.pageXOffset,k=a.top-h+e.offsetY-window.pageYOffset):(j=a.left-g+e.offsetX,k=a.top-h+e.offsetY)}else{let a=t(e.at);j=a.left-g+e.offsetX;k=a.top-h+e.offsetY}}else{let a,b;typeof e.of==='string'?(b=document.querySelector(e.of)):e.of.jquery?(b=e.of[0]):(b=e.of);f===b?(a=u(e.at),j=a.left-g+e.offsetX,k=a.top-h+e.offsetY):(a=v(e.at),j=a.left-g+e.offsetX,k=a.top-h+e.offsetY)}if(e.autoposition){let a,b=[];e.my===e.at&&(a=e.my);c.classList.add(a);b=Array.prototype.slice.call(f.getElementsByClassName(a));e.autoposition==='DOWN'?b.forEach(function(a,c){c>0&&(k+=b[--c].getBoundingClientRect().height+jsPanel.autopositionSpacing)}):e.autoposition==='UP'?b.forEach(function(a,c){c>0&&(k-=b[--c].getBoundingClientRect().height+jsPanel.autopositionSpacing)}):e.autoposition==='RIGHT'?b.forEach(function(a,c){c>0&&(j+=b[--c].getBoundingClientRect().width+jsPanel.autopositionSpacing)}):e.autoposition==='LEFT'&&b.forEach(function(a,c){c>0&&(j-=b[--c].getBoundingClientRect().width+jsPanel.autopositionSpacing)})}i={left:j,top:k};typeof e.modify==='function'&&(i=e.modify.call(i,i));c.style.position='absolute';c.style.left=`${i.left}px`;c.style.top=`${i.top}px`;e.of==='window'&&e.fixed&&f===document.body&&(c.style.position='fixed');return c},remMinReplacement(a){jQuery(`[id^="${a.prop('id')}-min"]`).remove()},reposition(a,b = panel.option.position,d){if(a.data('status')!=='minimized'){a.option.position=b;if(a.option.paneltype.tooltip){let b=a.attr('class').split(' ');jQuery.each(b,function(b,c){c.indexOf('jsPanel-tooltip-')===0&&a.removeClass(c)});this.setTooltipClass(a);jQuery('.jsPanel-connector',a).remove();a.option.paneltype.connector&&this.addConnector(a)}this.position(a,b)}d&&jQuery.isFunction(d)&&d.call(a,a);return a},resetZis(){let c=[];jQuery('.jsPanel:not(.jsPanel-modal):not(.jsPanel-hint)').each(function(a,b){c.push(b)});c.sort(function(a,b){return jQuery(a).css('z-index')-jQuery(b).css('z-index')}).forEach(function(a,b){(jsPanel.zi+=1)>jQuery(a).css('z-index')&&jQuery(a).css('z-index',jsPanel.ziBase+b)});this.zi=this.ziBase-1+c.length},resize(a,b){if(a.data('status')!=='minimized'){if(jQuery.isFunction(a.option.onbeforeresize)&&a.option.onbeforeresize.call(a,a)===!1){return a}if(jQuery.isPlainObject(b)){let c=jQuery.extend({},!1,jQuery.jsPanel.resizedefaults,b),d,e;c.width&&c.width==='auto'?(a.content.css('width','auto'),a.css('width','auto'),a.css('width',a.outerWidth())):c.width&&a.css('width',c.width);c.height&&c.height==='auto'?(a.content.css('height','auto'),a.css('height','auto')):c.height&&a.css('height',c.height);d=a.outerWidth();e=a.outerHeight();c.minwidth&&d<c.minwidth&&a.css('width',c.minwidth);c.maxwidth&&d>c.maxwidth&&a.css('width',c.maxwidth);c.minheight&&e<c.minheight&&a.css('height',c.minheight);c.maxheight&&e>c.maxheight&&a.css('height',c.maxheight);this.contentResize(a);if(jQuery.isFunction(a.option.onresized)){if(a.option.onresized.call(a,a)===!1){return a}}c.callback&&jQuery.isFunction(c.callback)&&c.callback.call(a,a)}}return a},rgbToHsl(a,b,c){a/=255, b/=255, c/=255;let d=Math.max(a,b,c),e=Math.min(a,b,c),f,g,h=(d+e)/2;if(d===e)f=g=0;else{let i=d-e;g=h>0.5?i/(2-d-e):i/(d+e);switch(d){case a:f=(b-c)/i+(b<c?6:0);break;case b:f=(c-a)/i+2;break;case c:f=(a-b)/i+4;break};f/=6}f*=360;g=g*100+'%';h=h*100+'%';return{css:'hsl('+f+','+g+','+h+')',h:f,s:g,l:h}},rgbToHex(a,b,c){let d=Number(a).toString(16),e=Number(b).toString(16),f=Number(c).toString(16);d.length===1&&(d=`0${d}`);e.length===1&&(e=`0${e}`);f.length===1&&(f=`0${f}`);return`#${d}${e}${f}`},setControlStatus(a,b,c = 'enable'){let d=a.header.headerbar,e=a[0];c==='disable'?(e.getAttribute(`data-btn${b}`)!=='removed'&&(e.setAttribute(`data-btn${b}`,'disabled'),jQuery(`.jsPanel-btn-${b}`,d).css({pointerEvents:'none',opacity:0.4,cursor:'default'}))):c==='enable'?(e.getAttribute(`data-btn${b}`)!=='removed'&&(e.setAttribute(`data-btn${b}`,'enabled'),jQuery(`.jsPanel-btn-${b}`,d).css({pointerEvents:'auto',opacity:1,cursor:'pointer'}))):c==='remove'&&(jQuery(`.jsPanel-btn-${b}`,d).remove(),e.setAttribute(`data-btn${b}`,'removed'))},setTooltipClass(a){let b=a.option.position.my+a.option.position.at;b==='center-bottomcenter-top'?a[0].classList.add('jsPanel-tooltip-top'):b==='left-bottomright-top'?a[0].classList.add('jsPanel-tooltip-righttopcorner'):b==='left-centerright-center'?a[0].classList.add('jsPanel-tooltip-right'):b==='left-topright-bottom'?a[0].classList.add('jsPanel-tooltip-rightbottomcorner'):b==='center-topcenter-bottom'?a[0].classList.add('jsPanel-tooltip-bottom'):b==='right-topleft-bottom'?a[0].classList.add('jsPanel-tooltip-leftbottomcorner'):b==='right-centerleft-center'?a[0].classList.add('jsPanel-tooltip-left'):b==='right-bottomleft-top'?a[0].classList.add('jsPanel-tooltip-lefttopcorner'):b==='centercenter'?a[0].classList.add('jsPanel-tooltip-center'):b==='right-topleft-top'?a[0].classList.add('jsPanel-tooltip-lefttop'):b==='right-bottomleft-bottom'?a[0].classList.add('jsPanel-tooltip-leftbottom'):b==='left-bottomleft-top'?a[0].classList.add('jsPanel-tooltip-topleft'):b==='right-bottomright-top'?a[0].classList.add('jsPanel-tooltip-topright'):b==='left-topright-top'?a[0].classList.add('jsPanel-tooltip-righttop'):b==='left-bottomright-bottom'?a[0].classList.add('jsPanel-tooltip-rightbottom'):b==='left-topleft-bottom'?a[0].classList.add('jsPanel-tooltip-bottomleft'):b==='right-topright-bottom'&&a[0].classList.add('jsPanel-tooltip-bottomright')},setTooltipMode(a,b){a.option.paneltype.mode==='semisticky'?a.hover(()=>jQuery.noop(),()=>{a.close();b.classList.remove('hasTooltip')}):a.option.paneltype.mode==='sticky'?jQuery.noop():jQuery(b).mouseout(()=>{a.close();b.classList.remove('hasTooltip')})},setTrigger(a){let b=a.of||'window';if(typeof b==='string'){return document.querySelector(b)}else if(b.jquery){return b[0]}else{return b}},setZi(a){a[0].classList.contains('jsPanel-modal')||((this.zi+=1)>a.css('z-index')&&a.css('z-index',this.zi))},smallify(a,b){let c=a.attr('id');if(a.data('status')==='normalized'||a.data('status')==='maximized'){if(a.data('status')!=='smallified'&&a.data('status')!=='smallifiedMax'){jQuery(document).trigger('jspanelbeforesmallify',c);if(jQuery.isFunction(a.option.onbeforesmallify)&&a.option.onbeforesmallify.call(a,a)===!1){return a}a.smallify.height=a.outerHeight();a.css('overflow','hidden');a.animate({height:a.header.headerbar.outerHeight()+'px'},{done:function(){a.data('status')==='maximized'?(a.hideControls(['.jsPanel-btn-maximize','.jsPanel-btn-smallify']),a.data('status','smallifiedMax'),jQuery(document).trigger('jspanelsmallifiedmax',c)):(a.hideControls(['.jsPanel-btn-normalize','.jsPanel-btn-smallify']),a.data('status','smallified'),jQuery(document).trigger('jspanelsmallified',c));jQuery.isFunction(a.option.onsmallified)&&a.option.onsmallified.call(a,a);jQuery(document).trigger('jspanelstatuschange',c)}})}}else if(a.data('status')!=='minimized'){jQuery(document).trigger('jspanelbeforeunsmallify',c);if(jQuery.isFunction(a.option.onbeforeunsmallify)){if(a.option.onbeforeunsmallify.call(a,a)===!1){return a}}a.css('overflow','visible');a.animate({height:a.smallify.height},{done:function(){a.data('status')==='smallified'?(a.hideControls(['.jsPanel-btn-normalize','.jsPanel-btn-smallifyrev']),a.data('status','normalized'),jQuery(document).trigger('jspanelnormalized',c)):(a.hideControls(['.jsPanel-btn-maximize','.jsPanel-btn-smallifyrev']),a.data('status','maximized'),jQuery(document).trigger('jspanelmaximized',c));a.contentResize();jQuery(document).trigger('jspanelunsmallified',c);jQuery(document).trigger('jspanelstatuschange',c);jQuery.isFunction(a.option.onunsmallified)&&a.option.onunsmallified.call(a,a)}})};a.css('z-index',this.setZi(a));b&&jQuery.isFunction(b)&&b.call(a,a);return a},toolbarAdd(a,b,c,d){b==='header'?(a.header.toolbar[0].classList.add('active'),jQuery.isArray(c)?this.configToolbar(c,a.header.toolbar,a):jQuery.isFunction(c)?a.header.toolbar.append(c(a.header)):a.header.toolbar.append(c)):b==='footer'&&(a.content[0].classList.remove('jsPanel-content-nofooter'),a.footer[0].classList.add('active'),a.option.theme==='none'&&a.footer.css({background:'transparent',borderTop:'none'}),jQuery.isArray(c)?this.configToolbar(c,a.footer,a):jQuery.isFunction(c)?a.footer.append(c(a.footer)):a.footer.append(c));this.contentResize(a);d&&jQuery.isFunction(d)&&d.call(a,a);return a},contextmenu(a,b,c){let d;typeof a==='string'?(d=document.querySelector(a)):a.jquery?(d=jQuery(a)[0]):(d=a);d.addEventListener('contextmenu',function(a){a.preventDefault();a.stopPropagation();jsPanel.closePanels('contextmenu');let d=a.clientX+(window.scrollX||window.pageXOffset),e=a.clientY+(window.scrollY||window.pageYOffset),f=Object.assign({},jQuery.jsPanel.defaults,jQuery.jsPanel.contextmenudefaults,b,{container:'body',position:!1}),g=jQuery.jsPanel(f).css({position:'absolute',left:d,top:e}).addClass('jsPanel-contextmenu').on('mouseleave',function(a){g.close()}).on('click',function(a){a.stopPropagation()});jQuery(a.target).closest('.jsPanel-modal')&&g.css('z-index',jQuery(a.target).closest('.jsPanel-modal').css('z-index'));g[0].cmEvent=a;jsPanel.checkContextmenuOverflow(g);c&&jQuery.isFunction(c)&&c.call(g,g)},!1)},checkContextmenuOverflow(a){let b=a[0].cmEvent.clientX,c=a[0].cmEvent.clientY,d=a.outerWidth(),e=a.outerHeight(),f=window.innerWidth-(b+d),g=window.innerHeight-(c+e);f<0&&a.css('left',b+(window.scrollX||window.pageXOffset)-d);g<0&&a.css('top',c+(window.scrollY||window.pageYOffset)-e)}};'onpointerup' in window?(jsPanel.evtStart='pointerdown',jsPanel.evtMove='pointermove',jsPanel.evtEnd='pointerup'):'ontouchend' in window?(jsPanel.evtStart='touchstart',jsPanel.evtMove='touchmove',jsPanel.evtEnd='touchend'):(jsPanel.evtStart='mousedown',jsPanel.evtMove='mousemove',jsPanel.evtEnd='mouseup');!function(c){c.jsPanel=function(a){let b,d=a||{},e=d.config||{},f=c.extend(!0,{},e,d),g,i=d.template?c(d.template):e.template?c(e.template):c(jsPanel.template);delete f.config;if(c.isArray(f.maximizedMargin)&&f.maximizedMargin[4]===!0){f.maximizedMargin.pop();let a,b;f.dragit&&(a=f.dragit.containment||f.maximizedMargin,f.dragit=c.extend({},!0,f.dragit,{containment:a}));f.resizeit&&(b=f.resizeit.containment||f.maximizedMargin,f.resizeit=c.extend({},!0,f.resizeit,{containment:b}))}f.position&&c.isFunction(f.position)&&(f.position=f.position());f.paneltype==='tooltip'&&(f.paneltype={tooltip:!0});f.paneltype?f.paneltype==='modal'?(i.option=c.extend(!0,{},c.jsPanel.defaults,c.jsPanel.modaldefaults,f)):f.paneltype.tooltip?(i.option=c.extend(!0,{},c.jsPanel.defaults,c.jsPanel.tooltipdefaults,f)):f.paneltype==='hint'&&(i.option=c.extend(!0,{},c.jsPanel.defaults,c.jsPanel.hintdefaults,f)):(i.option=c.extend(!0,{},c.jsPanel.defaults,f));let{autoclose: j,border: k,callback: l,closeOnEscape: m,container: n,content: o,contentAjax: p,contentIframe: q,contentOverflow: r,contentSize: s,custom: t,dblclicks: u,draggable: v,dragit: x,footerToolbar: y,headerControls: z,headerLogo: A,headerRemove: B,headerTitle: C,headerToolbar: D,id: E,onwindowresize: F,panelSize: G,paneltype: H,position: I,resizable: J,resizeit: K,rtl: L,setstatus: M,show: N,theme: O}=i.option;if(H.tooltip){g=jsPanel.setTrigger(I);if(g.classList.contains('hasTooltip')){return !1}}typeof E==='string'?(b=E):typeof E==='function'&&(b=E());if(c(`#${b}`).length>0){console.warn('jsPanel Error: No jsPanel created - id attribute passed with option.id already exists in document');c(`#${b}`)[0].jspanel.front();return !1}else i[0].id=b;i.data('custom',t);i.header=c('.jsPanel-hdr',i);i.header.headerbar=c('.jsPanel-headerbar',i.header);i.header.logo=c('.jsPanel-headerlogo',i.header.headerbar);i.header.title=c('.jsPanel-title',i.header.headerbar);i.header.controls=c('.jsPanel-controlbar',i.header.headerbar);i.header.toolbar=c('.jsPanel-hdr-toolbar',i.header);i.content=c('.jsPanel-content',i);i.footer=c('.jsPanel-ftr',i);i.data('status','initialized');i.cachedData={};i.close=(...a)=>jsPanel.close(i,...a);i.closeChildpanels=()=>jsPanel.closeChildpanels(i);i.contentReload=a=>jsPanel.contentReload(i,a);i.contentResize=a=>jsPanel.contentResize(i,a);i.front=a=>jsPanel.front(i,a);i.headerControl=(a,b)=>jsPanel.headerControl(i,a,b);i.headerTitle=a=>jsPanel.headerTitle(i,a);i.hideControls=a=>{Array.prototype.slice.call(i.header.controls[0].getElementsByClassName('jsPanel-btn')).forEach(function(a){a.style.display='block'});a.forEach(function(a){i.header.controls[0].querySelector(a).style.display='none'})};i.maximize=a=>jsPanel.maximize(i,a);i.minimize=a=>jsPanel.minimize(i,a);i.normalize=a=>jsPanel.normalize(i,a);i.reposition=(a,b)=>jsPanel.reposition(i,a,b);i.resize=function(a = c.jsPanel.resizedefaults.width,b = c.jsPanel.resizedefaults.height,d = c.jsPanel.resizedefaults.callback){let e={},f=a;c.isPlainObject(f)?f.resize==='content'&&(String(f.height).match(/[^0-9\.]/)||(f.height+='px'),String(f.width).match(/[^0-9\.]/)||(f.width+='px'),f.height=`calc(${f.height} + ${i.header.outerHeight()+'px'} + ${i.css('border-top-width')} + ${i.css('border-bottom-width')})`,f.width=`calc(${f.width} + ${i.css('border-left-width')} + ${i.css('border-right-width')})`):(e.width=a,e.height=b,e.callback=d,f=c.extend({},!1,c.jsPanel.resizedefaults,e));jsPanel.resize(i,f);return i};i.setTheme=(a = O.toLowerCase().replace(/ /g,''),b)=>{a=a.toLowerCase().replace(/ /g,'');jsPanel.clearTheme(i);if(O==='none'){i.css('background-color','white');return i}let d=jsPanel.getThemeDetails(a);d.bs?jsPanel.applyBootstrapTheme(i,d):(jsPanel.themes.indexOf(d.color)>-1?jsPanel.applyBuiltInTheme(i,d):jsPanel.applyArbitraryTheme(i,d));k?jsPanel.applyThemeBorder(i,d):i.css({borderWidth:'',borderStyle:'',borderColor:''});b&&c.isFunction(b)&&b.call(i,i);return i};i.smallify=a=>jsPanel.smallify(i,a);i.toolbarAdd=(a,b,c)=>jsPanel.toolbarAdd(i,a,b,c);i.updateCachedData=()=>{i.cachedData.top=i.css('top');i.cachedData.left=i.css('left');i.cachedData.width=i.css('width');i.cachedData.height=i.css('height')};i.dragit=a=>{a==='disable'?c(x.handles,i).css('pointer-events','none'):c(x.handles,i).css('pointer-events','auto');return i};i.resizeit=a=>{a==='disable'?c('.jsPanel-resizeit-handle',i).css('pointer-events','none'):c('.jsPanel-resizeit-handle',i).css('pointer-events','auto');return i};c('.jsPanel-btn-close',i).on('click',a=>{a.preventDefault();jsPanel.close(i)});c('.jsPanel-btn-minimize',i).on('click',a=>{a.preventDefault();jsPanel.minimize(i)});c('.jsPanel-btn-maximize',i).on('click',a=>{a.preventDefault();jsPanel.maximize(i)});c('.jsPanel-btn-normalize',i).on('click',a=>{a.preventDefault();jsPanel.normalize(i)});c('.jsPanel-btn-smallify, .jsPanel-btn-smallifyrev',i).on('click',a=>{a.preventDefault();jsPanel.smallify(i)});i.appendTo(c(n)[0]);jsPanel.activePanels.list.push(b);c(document).trigger('jspanelloaded',b);i.data('container',n);i.setTheme();if(!B){z.controls==='closeonly'?jsPanel.controls.forEach(a=>{a!=='close'&&jsPanel.setControlStatus(i,a,'remove')}):z.controls==='none'?jsPanel.controls.forEach(a=>{jsPanel.setControlStatus(i,a,'remove')}):jsPanel.controls.forEach(a=>{z[a]==='disable'?jsPanel.setControlStatus(i,a,'disable'):z[a]==='remove'?jsPanel.setControlStatus(i,a,'remove'):i[0].setAttribute(`data-btn${a}`,'enabled')});if(A){let a=A;typeof a==='string'&&a.substring(0,1)!=='<'?i.header.logo.append(`<img src="${a}" alt="logo">`):i.header.logo.append(a)}}else i.header.remove(),i.content[0].classList.add('jsPanel-content-noheader'),jsPanel.controls.forEach(a=>{i[0].setAttribute(`data-btn${a}`,'removed')});(B||c('.jsPanel-hdr').length<1)&&i.content.css('border','none');jsPanel.configIconfont(i);H==='modal'?(jsPanel.insertModalBackdrop(i),i[0].classList.add('jsPanel-modal'),i.css('z-index',jsPanel.modalcount+9999)):H==='hint'?(i[0].classList.add('jsPanel-hint'),i.css('z-index',10000)):H.tooltip&&(g=jsPanel.setTrigger(I),i[0].classList.add('jsPanel-tooltip'),jsPanel.setTooltipClass(i),H.solo&&jsPanel.closePanels('tooltip'),jsPanel.setTooltipMode(i,g),c(g).closest('.jsPanel-modal')&&(i[0].style.zIndex=c(g).closest('.jsPanel-modal').css('z-index')));H.tooltip&&g.classList.add('hasTooltip');D&&!B&&i.toolbarAdd('header',D);y&&i.toolbarAdd('footer',y);o&&(i.content.append(o),i.data('content',o));p&&(typeof p==='string'?(i.option.contentAjax={url:p,autoload:!0,autoresize:!0,autoreposition:!0}):(i.option.contentAjax=Object.assign({autoresize:!0,autoreposition:!0},p)),jsPanel.ajax(i));c.isPlainObject(q)&&(q.src||q.srcdoc)&&jsPanel.iframe(i);H.connector&&jsPanel.addConnector(i);let P=G||s,Q=P;if(typeof P==='string'){P=P.trim().split(/\s{1,}/);for(let a=0;a<P.length;a++)P[a].match(/^\d{1,}$/)&&(P[a]=parseInt(P[a],10));Q={width:P[0]||c.jsPanel.defaults.contentSize.width,height:P[1]||c.jsPanel.defaults.contentSize.height}}Q.height===0&&(Q.height='0');G?(i.css({width:Q.width,height:Q.height}),i.contentResize()):i.content.css({width:Q.width,height:Q.height});i.css({width:function(){if(c('.jsPanel-content',i).length>0){return i.content.outerWidth()+'px'}else{return s.width||c.jsPanel.defaults.contentSize.width}},zIndex:function(){jsPanel.setZi(i)}});i.content.css('width','100%');I&&(jsPanel.position(i,I),jsPanel.calcPositionFactors(i));i.css('opacity',1);i.data('status','normalized');c(document).trigger('jspanelstatuschange',b);H||(u&&(u.title&&i.header.headerbar.on('dblclick',a=>{a.preventDefault();jsPanel.dblclickhelper(u.title,i)}),u.content&&i.content.on('dblclick',a=>{a.preventDefault();jsPanel.dblclickhelper(u.content,i)}),u.footer&&i.footer.on('dblclick',a=>{a.preventDefault();jsPanel.dblclickhelper(u.footer,i)})));typeof r==='string'?i.content.css('overflow',r):c.isPlainObject(r)&&i.content.css({'overflow-y':r.vertical||r['overflow-y'],'overflow-x':r.horizontal||r['overflow-x']});c.ui&&c.ui.draggable&&!x.disableui?(c.isPlainObject(v)?i.draggable(v):v==='disabled'?(c('.jsPanel-titlebar, .jsPanel-ftr',i).css('cursor','default'),i.draggable({disabled:!0})):c('.jsPanel-titlebar, .jsPanel-ftr',i).css('cursor','default')):x?(jsPanel.dragit(i,x),x.disable&&i.dragit('disable')):c('.jsPanel-titlebar, .jsPanel-ftr',i).css('cursor','default');c.ui&&c.ui.resizable&&!K.disableui?(c.isPlainObject(J)?i.resizable(J):J==='disabled'&&(i.resizable({disabled:!0}),c('.ui-icon-gripsmall-diagonal-se, .ui-resizable-handle.ui-resizable-sw',i).css({'background-image':'none','text-indent':-9999}),c('.ui-resizable-handle',i).css({'cursor':'inherit'}))):K&&(jsPanel.resizeit(i,K),K.disable&&i.resizeit('disable'));L.rtl===!0&&(c('.jsPanel-hdr, .jsPanel-headerbar, .jsPanel-titlebar, .jsPanel-controlbar, .jsPanel-hdr-toolbar, .jsPanel-ftr',i).addClass('jsPanel-rtl'),[i.header.title,i.content,c('*',i.header.toolbar),c('*',i.footer)].forEach(a=>{a.prop('dir','rtl');L.lang&&a.prop('lang',L.lang)}),c('.ui-icon-gripsmall-diagonal-se',i).css({backgroundImage:'none',textIndent:-9999}));typeof N==='string'&&i.addClass(N).css('opacity',1);i.header.title.empty().prepend(C);i.updateCachedData();typeof M==='string'&&(M==='maximize smallify'?i.maximize().smallify():i[M]());typeof j==='number'&&j>0&&window.setTimeout(()=>{i&&i.close()},j);c.ui&&c.ui.resizable&&(i.on('resize',()=>jsPanel.contentResize(i)),i.on('resizestop',function(){(i.data('status')==='smallified'||i.data('status')==='smallifiedMax')&&(i.hideControls(['.jsPanel-btn-normalize','.jsPanel-btn-smallifyrev']),i.data('status','normalized'),c(document).trigger('jspanelnormalized',b),c(document).trigger('jspanelstatuschange',b));jsPanel.calcPositionFactors(i)}));c.ui&&c.ui.draggable&&i.on('dragstop',()=>jsPanel.calcPositionFactors(i));i.on('mousedown',a=>{if(a.target.classList.contains('jsglyph-close')||a.target.classList.contains('jsglyph-minimize')){return}let b=c(a.target).closest('.jsPanel').css('z-index');!i[0].classList.contains('jsPanel-modal')&&b<=jsPanel.zi&&i.front()});m&&i[0].setAttribute('data-closeonescape','true');F&&c(window).resize(function(a){if(a.target===window){let b=F,d=i.data('status');d==='maximized'&&!c.isFunction(b)?i.maximize(!1,!1):(d==='normalized'||d==='smallified'||d==='maximized')&&(c.isFunction(b)?b.call(i,a,i):i.reposition({left:function(){let a;this.option.container==='body'?(a=(c(window).outerWidth()-this.outerWidth())*this.hf):(a=(this.parent().outerWidth()-this.outerWidth())*this.hf);return a<=0?0:a},top:function(){let a;this.option.container==='body'?(a=(c(window).outerHeight()-this.outerHeight())*this.vf):(a=(this.parent().outerHeight()-this.outerHeight())*this.vf);return a<=0?0:a}}))}});i[0].jspanel={options:i.option,close(...a){let b=a[0]||!1,c=a[1]||!1,d=a[2]||!1;jsPanel.close(i,b,c,d)},normalize(a){return jsPanel.normalize(i,a)},maximize(a){return jsPanel.maximize(i,a)},minimize(a){return jsPanel.minimize(i,a)},smallify(a){return jsPanel.smallify(i,a)},front(a){return jsPanel.front(i,a)},closeChildpanels(){return jsPanel.closeChildpanels(i)},reposition(a,b){return jsPanel.reposition(i,a,b)},resize(a,b,c){return i.resize(a,b,c)},contentResize(a){return jsPanel.contentResize(i,a)},contentReload(a){return jsPanel.contentReload(i,a)},headerTitle(a){return jsPanel.headerTitle(i,a)},headerControl(a,b){return jsPanel.headerControl(i,a,b)},toolbarAdd(a,b,c){return jsPanel.toolbarAdd(i,a,b,c)},setTheme(a,b){return i.setTheme(a,b)},noop(){return i},dragit(a){return i.dragit(a)},resizeit(a){return i.resizeit(a)}};l&&c.isFunction(l)?l.call(i,i):c.isArray(l)&&l.forEach(a=>{c.isFunction(a)&&a.call(i,i)});return i};c.jsPanel.defaults={autoclose:!1,border:!1,callback:!1,closeOnEscape:!1,container:'body',content:!1,contentAjax:!1,contentIframe:!1,contentOverflow:'hidden',contentSize:{width:400,height:200},custom:!1,dblclicks:!1,delayClose:0,draggable:{handle:'div.jsPanel-titlebar, div.jsPanel-ftr',opacity:0.8},dragit:{axis:!1,containment:!1,grid:!1,handles:'.jsPanel-titlebar, .jsPanel-ftr.active',opacity:0.8,start:!1,drag:!1,stop:!1,disable:!1,disableui:!1},footerToolbar:!1,headerControls:{close:!1,maximize:!1,minimize:!1,normalize:!1,smallify:!1,controls:'all',iconfont:'jsglyph'},headerLogo:!1,headerRemove:!1,headerTitle:'jsPanel',headerToolbar:!1,id:()=>`jsPanel-${jsPanel.id+=1}`,maximizedMargin:[5,5,5,5],minimizeTo:!0,onbeforeclose:!1,onbeforemaximize:!1,onbeforeminimize:!1,onbeforenormalize:!1,onbeforesmallify:!1,onbeforeunsmallify:!1,onclosed:!1,onmaximized:!1,onminimized:!1,onnormalized:!1,onbeforeresize:!1,onresized:!1,onsmallified:!1,onunsmallified:!1,onfronted:!1,onwindowresize:!1,paneltype:!1,position:'center',resizable:{handles:'n, e, s, w, ne, se, sw, nw',autoHide:!1,minWidth:40,minHeight:40},resizeit:{containment:!1,grid:!1,handles:'n, e, s, w, ne, se, sw, nw',minWidth:40,minHeight:40,maxWidth:10000,maxHeight:10000,start:!1,resize:!1,stop:!1,disable:!1,disableui:!1},rtl:!1,setstatus:!1,show:!1,template:!1,theme:'default'};c.jsPanel.modaldefaults={draggable:!1,dragit:!1,headerControls:{controls:'closeonly'},position:'center',resizable:!1,resizeit:!1,onwindowresize:!0};c.jsPanel.tooltipdefaults={draggable:!1,dragit:!1,headerControls:{controls:'closeonly'},position:{fixed:!1},resizable:!1,resizeit:!1};c.jsPanel.hintdefaults={autoclose:8000,draggable:!1,dragit:!1,headerControls:{controls:'closeonly'},resizable:!1,resizeit:!1};c.jsPanel.contextmenudefaults={draggable:!1,resizable:!1,dragit:!1,resizeit:!1,headerRemove:!0,headerControls:{controls:'none'}};c.jsPanel.resizedefaults={width:'auto',height:'auto',minwidth:!1,maxwidth:!1,minheight:!1,maxheight:!1,resize:!1,callback:!1};c(document).ready(function(){document.body.addEventListener('click',a=>{let b=c(a.target).closest('.jsPanel').length;b<1&&!a.target.classList.contains('hasTooltip')&&(jsPanel.closePanels('tooltip'),c('.hasTooltip').removeClass('hasTooltip'));jsPanel.closePanels('contextmenu')},!1);c('body').css('-ms-overflow-style','scrollbar').append('<div id="jsPanel-replacement-container">');window.addEventListener('keydown',d=>{let e=d.key||d.code;(e==='Escape'||e==='Esc')&&jsPanel.activePanels.list.sort(function(a,b){return document.getElementById(b).style.zIndex-document.getElementById(a).style.zIndex}).some(function(a){let b=c('#'+a),e=b.parent().closest('.jsPanel');if(jsPanel.closeOnEscape||b[0].getAttribute('data-closeonescape')){if(e.length&&(jsPanel.closeOnEscape==='closeparent'||b[0].getAttribute('data-closeonescape'))||d.shiftKey){jsPanel.activePanels.getPanel(e[0].id).close();return !0}else{jsPanel.activePanels.getPanel(b[0].id).close();return !0}}})},!1)})}(jQuery)
